(this["webpackJsonpjunior-playground"]=this["webpackJsonpjunior-playground"]||[]).push([[0],{42:function(e,t,a){e.exports=a(73)},69:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),u=a(2),i=a(18),o=a(38),l=a(15),p=a(17),m=a(6),d=a(7),h=a(9),b=a(8),f=a(10),v=a(13),g=a.n(v),E=a(19),k=a(39),O=a.n(k).a.create({baseURL:"https://thawing-tundra-50143.herokuapp.com/"}),j=function(e){return function(){var t=Object(E.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,O.get("user/"+e);case 5:n=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",console.log("fetchUser error: ",t.t0));case 11:a({type:"FETCH_USER",payload:n.data});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},y=(a(69),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={redirectToLogin:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.user._id||this.setState({redirectToLogin:!0}),this.props.user.username||this.props.fetchUser(this.props.user._id)}},{key:"render",value:function(){return r.a.createElement("div",{className:"map"},this.state.redirectToLogin?r.a.createElement(p.a,{push:!0,to:"/login"}):"",r.a.createElement(l.b,{to:"/tasks/1"},r.a.createElement("button",{className:"ui red button",id:"stepOne"},"Dzia\u0142 1")),r.a.createElement(l.b,{to:"/tasks/2"},r.a.createElement("button",{className:"ui red button",id:"stepTwo"},"Dzia\u0142 2")),r.a.createElement(l.b,{to:"/tasks/3"},r.a.createElement("button",{className:"ui red button",id:"stepThree"},"Dzia\u0142 3")))}}]),t}(r.a.Component)),N=Object(u.b)((function(e){return{user:e.user,section:e.section}}),{fetchUser:j})(y),w=(a(71),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).handleChange=function(e){switch(e.target.name){case"username":a.setState({username:e.target.value});break;case"password":a.setState({password:e.target.value})}},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a.state={username:"",password:""},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui middle aligned center aligned grid"},this.props.user._id?r.a.createElement(p.a,{push:!0,to:"/"}):"",r.a.createElement("div",{className:"column"},r.a.createElement("form",{className:"ui large form",id:"formLogin",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"ui stacked segment"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"user icon"}),r.a.createElement("input",{type:"text",name:"username",placeholder:"Login",value:this.state.username,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Has\u0142o",value:this.state.password,onChange:this.handleChange,required:!0}))),r.a.createElement("button",{className:"ui fluid large submit button",form:"formLogin"},"Zaloguj")),r.a.createElement("div",{className:"ui error message"}))))}}]),t}(r.a.Component)),T=Object(u.b)((function(e){return{user:e.user}}),{login:function(e,t){return function(){var a=Object(E.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,O.post("login/",{username:e,password:t});case 5:r=a.sent,a.next=11;break;case 8:return a.prev=8,a.t0=a.catch(2),a.abrupt("return",console.log("login error: ",a.t0));case 11:if(r.data._id){a.next=13;break}return a.abrupt("return");case 13:localStorage.setItem("userId",r.data._id),n({type:"LOGIN",payload:r.data});case 15:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}()}})(w),x=(a(72),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.user.name||this.props.fetchUser(localStorage.getItem("userId"))}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"user-bar-container"},r.a.createElement("div",null,e.name),r.a.createElement("div",null,r.a.createElement("div",{className:"ui indicating progress active","data-percent":"50"},r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"label"},"Post\u0119p"))),r.a.createElement("div",null,e.coins," coins",r.a.createElement("img",{src:"dollar.png",alt:"dollar"})),r.a.createElement("div",null,"1000 ",r.a.createElement("img",{src:"goal.png",alt:"goal"})),r.a.createElement("div",{className:"right-buttons"},r.a.createElement("div",{className:"spellbook"},r.a.createElement("img",{src:"open-book.png",alt:"open book"}),r.a.createElement("div",null,"Ksi\u0119ga zakl\u0119\u0107")),r.a.createElement("div",null,r.a.createElement("button",{className:"ui button"},r.a.createElement("img",{src:"logout.png",alt:"logout"})))))}}]),t}(r.a.Component)),S=Object(u.b)((function(e){return{user:e.user,section:e.section}}),{fetchUser:j})(x),C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).clickTask=function(e){a.props.fetchTask(e.target.id)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null," ",this.renderTasks())}},{key:"renderTasks",value:function(){var e=this;if(0===this.props.section.tasks.length)return r.a.createElement("div",null);var t=this.props.section.tasks.map((function(t){return r.a.createElement("button",{key:t.number,id:t._id,onClick:e.clickTask},t.number+". "+t.name)}));return r.a.createElement("div",null,t)}}]),t}(r.a.Component),I=Object(u.b)((function(e){return{user:e.user,section:e.section}}),{fetchTask:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("userId"),e&&n){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,O.get("task/"+e,{headers:{userId:n}});case 6:r=t.sent,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",console.log("fetchTask error: ",t.t0));case 12:a({type:"FETCH_TASK",payload:r.data});case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()}})(C),_=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,"Opis"),r.a.createElement("div",null,"Nagrody"),r.a.createElement("div",null,"Test"))}}]),t}(r.a.Component),L=Object(u.b)((function(e){return{user:e.user,section:e.section}}))(_),U=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={redirectToLogin:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.user._id||this.setState({redirectToLogin:!0}),this.props.fetchSection(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement("div",{style:{color:"white"}},this.state.redirectToLogin?r.a.createElement(p.a,{push:!0,to:"/login"}):"",r.a.createElement(S,null),r.a.createElement(I,null),r.a.createElement(L,null))}}]),t}(r.a.Component),D=Object(u.b)((function(e){return{user:e.user,section:e.section}}),{fetchSection:function(e){return function(){var t=Object(E.a)(g.a.mark((function t(a){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("userId"),e&&n){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,O.get("section/"+e,{headers:{userId:n}});case 6:r=t.sent,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",console.log("fetchSection error: ",t.t0));case 12:a({type:"FETCH_SECTION",payload:r.data});case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()}})(U),H=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:N}),r.a.createElement(p.b,{path:"/login",exact:!0,component:T}),r.a.createElement(p.b,{path:"/tasks/:id",exact:!0,component:D}))},F=function(){return r.a.createElement(l.a,null,r.a.createElement(H,null))},z=a(41),R=Object(i.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{_id:"",username:"",name:"",email:"",currentTask:null,coins:0,experience:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"FETCH_USER":return t.payload;default:return e}},section:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[],currentTask:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SECTION":return t.payload;default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_ANSWER":return[].concat(Object(z.a)(e),[t.payload]);default:return e}}}),q={user:{_id:localStorage.getItem("userId")||""}},A=Object(i.d)(R,q,Object(i.a)(o.a));s.a.render(r.a.createElement(u.a,{store:A},r.a.createElement(F,null)),document.querySelector("#root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.fb853226.chunk.js.map