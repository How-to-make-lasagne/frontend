(this["webpackJsonpjunior-playground"]=this["webpackJsonpjunior-playground"]||[]).push([[0],{120:function(e,t,a){},220:function(e,t,a){e.exports=a(401)},247:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(35),c=a.n(s),l=a(22),o=a(48),i=a(194),u=a(29),p=a(40),m=a(16),d=a(17),h=a(18),g=a(19),f=a(20),b=a(26),v=a.n(b),E=a(49),k=a(195),O=a.n(k).a.create({baseURL:"https://thawing-tundra-50143.herokuapp.com/"}),y=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,O.get("user/"+e);case 5:n=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return",console.log("fetchUser error: ",t.t0));case 11:a({type:"FETCH_USER",payload:n.data});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()},w=(a(247),function(e){function t(e){var a;Object(m.a)(this,t),a=Object(h.a)(this,Object(g.a)(t).call(this,e));window.innerWidth,window.innerHeight;return a.state={redirectToLogin:!1,width1:10,height1:60,width2:30,height2:30,width3:60,height3:10,width4:65,height4:60,width5:80,height5:55},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.user._id||this.setState({redirectToLogin:!0}),this.props.user.username||this.props.fetchUser(this.props.user._id)}},{key:"render",value:function(){var e=this.state,t=e.width1,a=e.height1,n=e.width2,s=e.height2,c=e.width3,l=e.height3,o=e.width4,i=e.height4,m=e.width5,d=e.height5;return r.a.createElement("div",{className:"map"},this.state.redirectToLogin?r.a.createElement(p.a,{push:!0,to:"/login"}):"",r.a.createElement(u.b,{to:"/tasks/1",className:"button-element",style:{left:t+"%",top:a+"%"}},r.a.createElement("span",null,"Ksi\u0119ga 1")),r.a.createElement(u.b,{to:"/tasks/2",className:"button-element",style:{left:n+"%",top:s+"%"}},r.a.createElement("span",null,"Ksi\u0119ga 2")),r.a.createElement(u.b,{to:"/tasks/3",className:"button-element",style:{left:c+"%",top:l+"%"}},r.a.createElement("span",null,"Ksi\u0119ga 3")),r.a.createElement(u.b,{to:"/tasks/4",className:"button-element",style:{left:o+"%",top:i+"%"}},r.a.createElement("span",null,"Ksi\u0119ga 4")),r.a.createElement(u.b,{to:"/tasks/5",className:"button-element",style:{left:m+"%",top:d+"%"}},r.a.createElement("span",null,"Ksi\u0119ga 5")))}}]),t}(r.a.Component)),j=Object(l.b)((function(e){return{user:e.user,section:e.section}}),{fetchUser:y})(w),N=(a(249),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){switch(e.target.name){case"username":a.setState({username:e.target.value});break;case"password":a.setState({password:e.target.value})}},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a.state={username:"",password:""},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui middle aligned center aligned grid"},this.props.user._id?r.a.createElement(p.a,{push:!0,to:"/"}):"",r.a.createElement("div",{className:"column"},r.a.createElement("form",{className:"ui large form",id:"formLogin",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"ui stacked segment"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"user icon"}),r.a.createElement("input",{type:"text",name:"username",placeholder:"Login",value:this.state.username,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui left icon input"},r.a.createElement("i",{className:"lock icon"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Has\u0142o",value:this.state.password,onChange:this.handleChange,required:!0}))),r.a.createElement("button",{className:"ui fluid large submit button",form:"formLogin"},"Zaloguj")),r.a.createElement("div",{className:"ui error message"}))))}}]),t}(r.a.Component)),T=Object(l.b)((function(e){return{user:e.user}}),{login:function(e,t){return function(){var a=Object(E.a)(v.a.mark((function a(n){var r;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,O.post("login/",{username:e,password:t});case 5:r=a.sent,a.next=11;break;case 8:return a.prev=8,a.t0=a.catch(2),a.abrupt("return",console.log("login error: ",a.t0));case 11:if(r.data._id){a.next=13;break}return a.abrupt("return");case 13:localStorage.setItem("userId",r.data._id),n({type:"LOGIN",payload:r.data});case 15:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}()}})(N),x=a(408),S=(a(250),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={isModalOpen:!1},a.clickLogout=function(e){a.props.logout()},a.handleToggleModal=function(){a.setState({isModalOpen:!a.state.isModalOpen})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.user.name||this.props.fetchUser(localStorage.getItem("userId")),this.props.fetchKnowledgeBaseList()}},{key:"render",value:function(){var e=this.props.user;return console.log(this.props.knowledgeList),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"user-bar-container"},r.a.createElement("div",null,e.name),r.a.createElement("div",null,r.a.createElement("div",{className:"ui indicating progress active","data-percent":"50"},r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"label"},"Post\u0119p"))),r.a.createElement("div",null,e.coins,r.a.createElement("img",{src:"dollar.png",alt:"dollar"})),r.a.createElement("div",null,e.experience," ",r.a.createElement("img",{src:"goal.png",alt:"goal"})),r.a.createElement("div",{className:"right-buttons"},r.a.createElement("div",{className:"spellbook",onClick:this.handleToggleModal},r.a.createElement("img",{src:"open-book.png",alt:"open book"}),r.a.createElement("div",null,"Ksi\u0119ga zakl\u0119\u0107")),r.a.createElement("div",null,r.a.createElement("button",{className:"ui button",onClick:this.clickLogout},r.a.createElement("img",{src:"logout.png",alt:"logout"}))))),r.a.createElement(x.a,{open:this.state.isModalOpen,style:{background:"black"}},r.a.createElement(x.a.Header,null,r.a.createElement("div",{onClick:this.handleToggleModal,className:"modal-header"},r.a.createElement("span",null,"X"))),r.a.createElement(x.a.Content,null,r.a.createElement("div",{className:"content-inner"},r.a.createElement("div",{className:"left-list"},this.props.knowledgeList.map((function(e){return r.a.createElement("div",{className:"left-list-element",key:e.knowledgeId},e.title)}))),r.a.createElement("div",{className:"right-content"},"asdasdasdasdasd")))))}}]),t}(r.a.Component)),L=Object(l.b)((function(e){return{user:e.user,section:e.section,knowledgeList:e.knowledgeList}}),{fetchUser:y,logout:function(){return function(e){localStorage.setItem("userId",""),e({type:"LOGOUT"})}},fetchKnowledgeBaseList:function(){return function(){var e=Object(E.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/knowledge");case 3:a=e.sent,console.log(a),t({type:"FETCH_KNOWLEDGE_BASE_LIST",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}})(S),C=(a(120),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).clickTask=function(e){a.props.fetchTask(e.target.id)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null," ",this.renderTasks())}},{key:"renderTasks",value:function(){var e=this;if(console.log(this.props.section.tasks),0===this.props.section.tasks.length)return r.a.createElement("div",null);var t=this.props.section.tasks.map((function(t){return console.log(t),r.a.createElement("button",{key:t.number,id:t.taskId,onClick:e.clickTask,className:"step"},r.a.createElement("i",{className:"shopping cart icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"title"},t.number+". "+(t.name||t.title)),r.a.createElement("div",{className:"description"},"Skompletuj ekwipunek")))}));return r.a.createElement("div",{className:"ui vertical steps"},t)}}]),t}(r.a.Component)),I=Object(l.b)((function(e){return{user:e.user,section:e.section}}),{fetchTask:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("userId"),e&&n){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,O.get("task/"+e,{headers:{userId:n}});case 6:r=t.sent,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",console.log("fetchTask error: ",t.t0));case 12:console.log(r.data),a({type:"FETCH_TASK",payload:r.data});case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()}})(C),_=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).renderQuestions=function(){if(console.log("QUUIISSZZZ: ",a.props.task.questions),!a.props.task.questions||0===a.props.task.questions.length)return r.a.createElement("div",null);var e=a.props.task.questions.map((function(e){var t=e.question,a=e.answers.map((function(e){return r.a.createElement("label",{key:e.number},r.a.createElement("input",{type:"radio",name:"key"}),e.content)}));return r.a.createElement("div",{key:t},e.question,r.a.createElement("br",null),a)}));return r.a.createElement("div",null," ",e," ")},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){console.log("taskdes:",this.props.task);var e=this.props.task;return r.a.createElement("div",{className:"task"},r.a.createElement("div",null,e.description),r.a.createElement("div",null,"Prize: ",r.a.createElement("br",null),"Experience: ",e.prize.exp," ",r.a.createElement("br",null)," Coins: ",e.prize.coins),r.a.createElement("div",null,"Test: ",r.a.createElement("br",null),this.renderQuestions(),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(r.a.Component),U=Object(l.b)((function(e){return{user:e.user,section:e.section,task:e.task}}))(_),K=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(h.a)(this,Object(g.a)(t).call(this,e))).state={redirectToLogin:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.user._id||this.setState({redirectToLogin:!0}),this.props.fetchSection(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement("div",{style:{color:"white"}},this.props.user._id?"":r.a.createElement(p.a,{push:!0,to:"/login"}),r.a.createElement(L,null),r.a.createElement("div",{className:"flex"},r.a.createElement(I,null),r.a.createElement(U,null)))}}]),t}(r.a.Component),q=Object(l.b)((function(e){return{user:e.user,section:e.section}}),{fetchSection:function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("userId"),e&&n){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,O.get("section/"+e,{headers:{userId:n}});case 6:r=t.sent,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",console.log("fetchSection error: ",t.t0));case 12:a({type:"FETCH_SECTION",payload:r.data});case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()}})(K),H=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:j}),r.a.createElement(p.b,{path:"/login",exact:!0,component:T}),r.a.createElement(p.b,{path:"/tasks/:id",exact:!0,component:q}))},M=function(){return r.a.createElement(u.a,null,r.a.createElement(H,null))},F=a(212),G=Object(o.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{_id:"",username:"",name:"",email:"",currentTask:null,coins:0,experience:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.payload;case"LOGOUT":return{_id:"",username:"",name:"",email:"",currentTask:null,coins:0,experience:0};case"FETCH_USER":return t.payload;default:return e}},section:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:[],currentTask:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SECTION":return t.payload;case"LOGOUT":return{tasks:[],currentTask:""};default:return e}},answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_ANSWER":return[].concat(Object(F.a)(e),[t.payload]);case"LOGOUT":return[];default:return e}},knowledgeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_KNOWLEDGE_BASE_LIST":return t.payload;default:return e}},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{description:"",prize:{exp:0,coins:0},questions:[],answers:{number:0,content:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TASK":return console.log("taskinred: ",t.payload),t.payload;case"LOGOUT":return{description:"",prize:{exp:0,coins:0},questions:[],answers:{number:0,content:[]}};default:return e}}}),A={user:{_id:localStorage.getItem("userId")||""}},z=Object(o.d)(G,A,Object(o.a)(i.a));c.a.render(r.a.createElement(l.a,{store:z},r.a.createElement(M,null)),document.querySelector("#root"))}},[[220,1,2]]]);
//# sourceMappingURL=main.a988ae1f.chunk.js.map